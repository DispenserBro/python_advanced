# Финальное ДЗ (промежуточная аттестация) по курсу "Погружение в Python"

## Задание

```
Напишите код, который запускается из командной строки и получает на вход путь до директории на ПК.
Соберите информацию о содержимом в виде объектов namedtuple.
Каждый объект хранит:
- имя файла без расширения или название каталога,
- расширение, если это файл,
- флаг каталога,
- название родительского каталога.
В процессе сбора сохраните данные в текстовый файл используя логирование.
```

## Описание решения
При запуске скрипта из командной строки(терминала) можно указать следующие аргуменнты:
- `-p <путь>` - путь до директории, содержимое которой требуется получить (по умолчанию - `"."`)
- `-с` - флаг, указав который полный путь до родительской директории будет заменяться одним названием директории

После запуска скрипта в месте запуска проверяется наличие директории `logs`, и если её нет, то она создаётся

После задаётся формат логгера, начальная конфигурация модуля `logging`, хендлер для вывода логов в консоль, и создаётся сам логгер.

Для хранения данных о файлах и директориях используются объекты класса `DirectoryElement`, дочернего класса `tuple`, который создаётся при помощи функции `namedtuple`.

У класса `DirectoryElement` есть следующие атрибуты:
- `name` - имя файла или директории
- `extension` - расширение файла
- `is_dir` - флаг директории
- `root_path` - название или путь до родительской директории

При запуске скрипта аргументы, переданные в консоли считываются парсером аргументов, и запускается основная функция.

В теле функции при помощи функции `os.walk()` в цикле заполняется список элементов, при прохождении через директорию, отличную от стартовой, в логгер записывается сообщение `Walked in directory: <dir_name>`, при переборе файлов в директории, записывается `Found file: <filename_with_ext>`.

Весь основной код функции обёрнут в блок `try` для того, чтобы, если пользователь решит прервать испольнение программы, данные об обработанных элементах не стёрлись, и были сохранены.

По окончании выполнения скрипта, выводится список обработанного содержимого директории, и сохраняется в файл `log_walkdir_<dd-mm-yyy>.log` в директории `logs`.

Формат вывода логов: `[<уровень>: <имя_функции>] - <hh:mm:ss> : <имя_функции> @ <номер_строки>: <сообщение>`
